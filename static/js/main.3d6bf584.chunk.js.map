{"version":3,"sources":["components/effects.js","components/dots.js","views/main.jsx","index.jsx"],"names":["extend","EffectComposer","ShaderPass","SavePass","RenderPass","triColorMix","uniforms","tDiffuse1","value","tDiffuse2","tDiffuse3","vertexShader","fragmentShader","Effects","composer","useRef","savePass","blendPass","swap","useThree","scene","gl","size","camera","useMemo","rtA","THREE","width","height","rtB","pixelRatio","getPixelRatio","useEffect","current","setSize","useFrame","render","delay1","delay2","renderTarget","texture","ref","args","attachArray","needsSwap","FXAAShader","uniforms-resolution-value-x","uniforms-resolution-value-y","CopyShader","roundedSquareWave","t","delta","a","f","Math","PI","atan","sin","DotShapes","vec","transform","positions","Array","map","_","i","position","x","y","floor","right","distances","pos","length","cos","angleTo","clock","dist","elapsedTime","wave","copy","multiplyScalar","setPosition","setMatrixAt","instanceMatrix","needsUpdate","Dots","orthographic","zoom","colorManagement","resize","polyfill","ResizeObserver","attach","Main","id","className","href","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d6bf584.chunk.js","sourcesContent":["import * as THREE from 'three'\r\nimport React, { useMemo, useEffect, useRef } from 'react'\r\nimport { useThree, useFrame, extend } from 'react-three-fiber'\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\nimport { SavePass } from 'three/examples/jsm/postprocessing/SavePass'\r\nimport { CopyShader } from 'three/examples/jsm/shaders/CopyShader'\r\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader'\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\n\r\nextend({ EffectComposer, ShaderPass, SavePass, RenderPass })\r\n\r\n// Shader that composites the r,g,b channels of 3 textures, respectively\r\nconst triColorMix = {\r\n  uniforms: {\r\n    tDiffuse1: { value: null },\r\n    tDiffuse2: { value: null },\r\n    tDiffuse3: { value: null }\r\n  },\r\n  vertexShader: `\r\n    varying vec2 vUv;\r\n    void main() {\r\n      vUv = uv;\r\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1);\r\n    }\r\n  `,\r\n  fragmentShader: `\r\n    varying vec2 vUv;\r\n    uniform sampler2D tDiffuse1;\r\n    uniform sampler2D tDiffuse2;\r\n    uniform sampler2D tDiffuse3;\r\n    \r\n    void main() {\r\n      vec4 del0 = texture2D(tDiffuse1, vUv);\r\n      vec4 del1 = texture2D(tDiffuse2, vUv);\r\n      vec4 del2 = texture2D(tDiffuse3, vUv);\r\n      // min alpha hides until all buffers are full\r\n      float alpha = min(min(del0.a, del1.a), del2.a);\r\n      gl_FragColor = vec4(del0.r, del1.g, del2.b, alpha);\r\n    }\r\n  `\r\n}\r\n\r\nexport function Effects() {\r\n  const composer = useRef()\r\n  const savePass = useRef()\r\n  const blendPass = useRef()\r\n  const swap = useRef(false) // Whether we need to swap the delay buffers\r\n  const { scene, gl, size, camera } = useThree()\r\n  const { rtA, rtB } = useMemo(() => {\r\n    // Spare render targets for holding the previous two individual frames\r\n    const rtA = new THREE.WebGLRenderTarget(size.width, size.height)\r\n    const rtB = new THREE.WebGLRenderTarget(size.width, size.height)\r\n    return { rtA, rtB }\r\n  }, [size])\r\n  const pixelRatio = gl.getPixelRatio() // Needed for anti-aliasing pass\r\n  useEffect(() => void composer.current.setSize(size.width, size.height), [size])\r\n  useFrame(() => {\r\n    composer.current.render()\r\n    // Swap render targets and update dependencies\r\n    let delay1 = swap.current ? rtB : rtA\r\n    let delay2 = swap.current ? rtA : rtB\r\n    savePass.current.renderTarget = delay2\r\n    blendPass.current.uniforms['tDiffuse2'].value = delay1.texture\r\n    blendPass.current.uniforms['tDiffuse3'].value = delay2.texture\r\n    swap.current = !swap.current\r\n  }, 1)\r\n  return (\r\n    <effectComposer ref={composer} args={[gl]}>\r\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\r\n      <shaderPass attachArray=\"passes\" ref={blendPass} args={[triColorMix, 'tDiffuse1']} needsSwap={false} />\r\n      <savePass attachArray=\"passes\" ref={savePass} needsSwap={true} />\r\n      <shaderPass\r\n        attachArray=\"passes\"\r\n        args={[FXAAShader]}\r\n        uniforms-resolution-value-x={1 / (size.width * pixelRatio)}\r\n        uniforms-resolution-value-y={1 / (size.height * pixelRatio)}\r\n      />\r\n      <shaderPass attachArray=\"passes\" args={[CopyShader]} />\r\n    </effectComposer>\r\n  )\r\n}\r\n","import React, { useMemo, useRef } from 'react'\nimport * as THREE from 'three'\nimport { Canvas, useFrame } from 'react-three-fiber'\nimport { Effects } from './effects'\nimport { ResizeObserver } from '@juggle/resize-observer'\n\n// NON-INTERACTIVE VERSION\n\n// Equation from https://dsp.stackexchange.com/a/56529\n// Visualized here https://www.desmos.com/calculator/uakymahh4u\nconst roundedSquareWave = (t, delta, a, f) => {\n  return ((2 * a) / Math.PI) * Math.atan(Math.sin(2 * Math.PI * t * f) / delta)\n}\n\nconst DotShapes = () => {\n  const ref = useRef() // Reference to our InstancedMesh\n  const { vec, transform, positions, distances } = useMemo(() => {\n    // Variables for intermediary calculations\n    const vec = new THREE.Vector3()\n    const transform = new THREE.Matrix4()\n\n    // Precompute randomized initial positions (array of Vector3)\n    const positions = [...Array(20000)].map((_, i) => {\n      const position = new THREE.Vector3()\n      // Place in a grid\n      position.x = (i % 150) - 75\n      position.y = Math.floor(i / 150) - 75\n\n      // Offset every other column (hexagonal pattern)\n      position.y += (i % 2) * 0.5\n\n      // Add some noise\n      // position.x += Math.random() * 0.3\n      // position.y += Math.random() * 0.3\n      return position\n    })\n\n    // Precompute initial distances with octagonal offset\n    const right = new THREE.Vector3(1, 0, 0)\n    const distances = positions.map((pos) => {\n      // See https://www.desmos.com/calculator/4eiqbvjdzm\n      return pos.length() + Math.cos(pos.angleTo(right) * 8) * 0.4\n    })\n    return { vec, transform, positions, distances }\n  }, [])\n  useFrame(({ clock }) => {\n    for (let i = 0; i < 20000; ++i) {\n      const dist = distances[i]\n\n      // Distance affects the wave phase\n      const t = clock.elapsedTime - dist / 30\n\n      // Oscillates between -0.4 and +0.4 with period of 3.8 seconds\n      const wave = roundedSquareWave(t, 0.15 + (0.1 * dist) / 72, 0.5, 1 / 4)\n\n      // Scale initial position by our oscillator\n      vec.copy(positions[i]).multiplyScalar(wave + 0.95)\n\n      // Apply the Vector3 position to the Matrix4\n      transform.setPosition(vec)\n\n      // Update Matrix4 for this instance\n      ref.current.setMatrixAt(i, transform)\n    }\n    ref.current.instanceMatrix.needsUpdate = true\n  })\n  return (\n    <instancedMesh ref={ref} args={[null, null, 20000]}>\n      <circleBufferGeometry args={[0.15]}/> {/* Circle with radius of 0.15 */}\n      <meshBasicMaterial/> {/* Default to white color */}\n    </instancedMesh>\n  )\n}\n\nexport const Dots = () => {\n  return (\n    <Canvas\n      orthographic\n      camera={{ zoom: 20 }}\n      colorManagement={false} // Disabling colorManagement gives us raw colors (pure whites)\n      resize={{ polyfill: ResizeObserver }} // Allows @react-spring/three to work in Safari\n    >\n      <color attach=\"background\" args={['black']} />\n      <Effects />\n      <DotShapes />\n    </Canvas>\n  )\n}\n","import React from 'react'\nimport { Dots } from '../components/dots'\n\nexport const Main = () => {\n  return (\n    <div>\n      <div id=\"background\">\n        <Dots />\n      </div>\n      <div id=\"backgroundText\">\n        <span>DJ</span>\n      </div>\n      <div id=\"content\">\n        <div className=\"main\">\n          <a href=\"tel:+989140963419\">\n            <div className=\"dj-title\">\n              <p className=\"amir-text\">AMIR</p>\n              <p className=\"amiri-text\">AMIRI</p>\n            </div>\n          </a>\n        </div>\n        <div className=\"footer\">\n          <span className=\"link\">\n            <a href=\"https://instagram.com/dj.amir.amiri.pv\" className=\"instagram\">\n              <i className=\"fab fa-instagram\"></i>\n            </a>\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/main.min.css';\nimport './assets/font/fontawesome/css/all.min.css';\n\nimport { Main } from './views/main';\n\n\nReactDOM.render(\n  <React.StrictMode className=\"full-screen\">\n    <Main />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}